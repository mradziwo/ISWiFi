<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1495482755675" ID="ID_1080441782" MODIFIED="1495482785756" TEXT="ISAPP">
<node CREATED="1495482810528" ID="ID_1515738169" MODIFIED="1495482889157" POSITION="left" TEXT="Interface towards Device">
<node COLOR="#996600" CREATED="1495482891704" ID="ID_213766824" MODIFIED="1495664567348" TEXT="DeviceCall(URI, method, payload)">
<linktarget COLOR="#b0b0b0" DESTINATION="ID_213766824" ENDARROW="Default" ENDINCLINATION="430;-282;" ID="Arrow_ID_309655669" SOURCE="ID_1321810022" STARTARROW="None" STARTINCLINATION="878;0;"/>
<node CREATED="1495482927704" ID="ID_516997148" MODIFIED="1495483006712" TEXT="Performs REST API call towards device, returns payload"/>
<node CREATED="1495663042960" ID="ID_380415753" MODIFIED="1495663072091" TEXT="returns response and payload"/>
<node CREATED="1495663077673" ID="ID_45015882" MODIFIED="1495663145078" TEXT="sends reply back to server">
<arrowlink COLOR="#0000ff" DESTINATION="ID_1711347719" ENDARROW="Default" ENDINCLINATION="392;0;" ID="Arrow_ID_84368804" STARTARROW="None" STARTINCLINATION="392;0;"/>
</node>
</node>
<node CREATED="1495483012091" ID="ID_771391190" MODIFIED="1495483039710" TEXT="DeviceStateDump">
<node CREATED="1495483097206" ID="ID_1634203085" MODIFIED="1495666235691" TEXT="uris=DeviceCall(/StateURIs, GET, &quot;&quot;)"/>
<node CREATED="1495666219247" ID="ID_398999562" MODIFIED="1495666252984" TEXT="for each uri in uris:"/>
<node CREATED="1495666280278" ID="ID_864086277" MODIFIED="1495666408126" TEXT="out=DeviceCall(uri.uri, GET, &quot;&quot;)"/>
<node CREATED="1495666323917" ID="ID_503709955" MODIFIED="1495666443763" TEXT="dump.append(uri.uri, out.payload)"/>
<node CREATED="1495666444956" ID="ID_1535200253" MODIFIED="1495666449741" TEXT="loop"/>
<node CREATED="1495666449964" ID="ID_12768712" MODIFIED="1495666488140" TEXT="reportState(requesID, dump)"/>
</node>
<node CREATED="1495483113117" ID="ID_819990142" MODIFIED="1495663888006" TEXT="ListFullStatusURIs">
<node CREATED="1495483138372" ID="ID_1165120103" MODIFIED="1495663938608" TEXT="Performs a REST GET call to URI: /ISM010_FullStatus"/>
<node CREATED="1495483241458" ID="ID_1211752575" MODIFIED="1495663946515" TEXT="returns list of URIs "/>
</node>
<node CREATED="1495662102293" ID="ID_1105310769" MODIFIED="1495662125894" TEXT="scanForDevices">
<node CREATED="1495662128678" ID="ID_1290167603" MODIFIED="1495662177769" TEXT="devices will have one of poll of 16 fixed, hidden SSIDs"/>
<node CREATED="1495662178005" ID="ID_1218449455" MODIFIED="1495662194398" TEXT="matching passwords will be known"/>
<node CREATED="1495662223398" ID="ID_1189928572" MODIFIED="1495662356568" TEXT="connects to each device and gets basic data">
<node CREATED="1495662356568" ID="ID_527173914" MODIFIED="1495662417095" TEXT="list of URI to request should be stored in file and be possible to be updated with new software"/>
<node CREATED="1495662622841" ID="ID_792982787" MODIFIED="1495662851289" TEXT="creates a touple with generated locally unique localDeviceID, device Name, and other parameters"/>
</node>
<node CREATED="1495662445185" ID="ID_1232346237" MODIFIED="1495662876615" TEXT="sends SiteData to server">
<linktarget COLOR="#b0b0b0" DESTINATION="ID_1232346237" ENDARROW="None" ENDINCLINATION="191;24;" ID="Arrow_ID_1718853158" SOURCE="ID_844271093" STARTARROW="Default" STARTINCLINATION="129;22;"/>
</node>
</node>
<node CREATED="1495662213048" ID="ID_1647993743" MODIFIED="1495662611675" TEXT="selectDevice(localDeviceID)">
<node CREATED="1495663819218" ID="ID_1119114501" MODIFIED="1495663837941" TEXT="connect to device"/>
</node>
</node>
<node CREATED="1495662039949" ID="ID_1236491530" MODIFIED="1495662091095" POSITION="left" TEXT="Interface towards server">
<node CREATED="1495665754553" ID="ID_291244854" MODIFIED="1495665775300" TEXT="Login(siteID)"/>
<node CREATED="1495662474543" ID="ID_844271093" MODIFIED="1495665780767" TEXT="SiteData( data)">
<arrowlink DESTINATION="ID_1232346237" ENDARROW="None" ENDINCLINATION="191;24;" ID="Arrow_ID_1718853158" STARTARROW="Default" STARTINCLINATION="129;22;"/>
<node CREATED="1495662501021" ID="ID_351526012" MODIFIED="1495662541104" TEXT="Sends site data containing a result from scanForDevices()"/>
</node>
<node CREATED="1495662922967" ID="ID_1711347719" MODIFIED="1495663181006" TEXT="deviceReply(requestID, reply, payload)">
<linktarget COLOR="#0000ff" DESTINATION="ID_1711347719" ENDARROW="Default" ENDINCLINATION="392;0;" ID="Arrow_ID_84368804" SOURCE="ID_45015882" STARTARROW="None" STARTINCLINATION="392;0;"/>
</node>
<node CREATED="1495663736710" ID="ID_910048630" MODIFIED="1495663755627" TEXT="displayMessageACK(requestID)"/>
<node CREATED="1495666493365" ID="ID_1377498396" MODIFIED="1495666507229" TEXT="reportState(requestID, dump)"/>
</node>
<node CREATED="1495662091588" ID="ID_1000101780" MODIFIED="1495664671513" POSITION="left" TEXT="update via store"/>
<node CREATED="1495662663767" ID="ID_162336462" MODIFIED="1495664609774" POSITION="right" TEXT="User Interface">
<node CREATED="1495662669798" ID="ID_1875973371" MODIFIED="1495662683145" TEXT="show connection to server status"/>
<node CREATED="1495662683433" ID="ID_535459741" MODIFIED="1495662700977" TEXT="show devices available on site"/>
<node CREATED="1495662701258" ID="ID_208599540" MODIFIED="1495663360053" TEXT="display a message from remote operator">
<arrowlink DESTINATION="ID_1257093883" ENDARROW="Default" ENDINCLINATION="64;0;" ID="Arrow_ID_1261298754" STARTARROW="None" STARTINCLINATION="64;0;"/>
</node>
</node>
<node CREATED="1495662736447" ID="ID_1612023708" MODIFIED="1495663351671" POSITION="right" TEXT="Interface from Server">
<node CREATED="1495662752379" ID="ID_1257093883" MODIFIED="1495663764896" TEXT="displayMessage(requestID, string)">
<linktarget COLOR="#b0b0b0" DESTINATION="ID_1257093883" ENDARROW="Default" ENDINCLINATION="64;0;" ID="Arrow_ID_1261298754" SOURCE="ID_208599540" STARTARROW="None" STARTINCLINATION="64;0;"/>
<node CREATED="1495662768487" ID="ID_1767815959" MODIFIED="1495662790855" TEXT="displays a message from remote operator or from server"/>
</node>
<node CREATED="1495662940878" ID="ID_1321810022" MODIFIED="1495664567348" TEXT="deviceCallRequest(requestID, localDeviceID, URI, method, payload)">
<arrowlink DESTINATION="ID_213766824" ENDARROW="Default" ENDINCLINATION="430;-282;" ID="Arrow_ID_309655669" STARTARROW="None" STARTINCLINATION="878;0;"/>
</node>
<node CREATED="1495665817434" ID="ID_954555758" MODIFIED="1495665902661" TEXT="inuiryDeviceState(requestID, localDeviceID)"/>
<node CREATED="1495664428272" ID="ID_178143486" MODIFIED="1495667845994" TEXT="disconnect(msg)"/>
</node>
<node CREATED="1495482786269" ID="ID_538234674" MODIFIED="1495482801014" POSITION="right" TEXT="usecase">
<node CREATED="1495482803286" ID="ID_1807582659" MODIFIED="1495663240023" TEXT="User starts Application"/>
<node CREATED="1495665613484" ID="ID_400482217" MODIFIED="1495665653368" TEXT="User is prompted to enter site ID"/>
<node CREATED="1495663247532" ID="ID_694036463" MODIFIED="1495663292215" TEXT="application connects to server using static authentication"/>
<node CREATED="1495663395535" ID="ID_337688652" MODIFIED="1495663426301" TEXT="app continuously displays server connection status"/>
<node CREATED="1495663292776" ID="ID_1248817635" MODIFIED="1495663395166" TEXT="app starts to scanForDevices"/>
<node CREATED="1495663429512" ID="ID_1891327509" MODIFIED="1495663473405" TEXT="app sends SiteData to server"/>
<node CREATED="1495663482231" ID="ID_247872309" MODIFIED="1495663519442" TEXT="alow user to rescan if no devices found"/>
<node CREATED="1495663519806" ID="ID_1738648988" MODIFIED="1495663557060" TEXT="app sends SiteData"/>
<node CREATED="1495663589151" ID="ID_251074051" MODIFIED="1495663613608" TEXT="app waits for command from server"/>
<node CREATED="1495663613894" ID="ID_959306476" MODIFIED="1495663618675" TEXT="on comand">
<node CREATED="1495663618676" ID="ID_963638526" MODIFIED="1495663632981" TEXT="displayMessage">
<node CREATED="1495663632983" ID="ID_1839054895" MODIFIED="1495663657726" TEXT="Display message to user, (vibrate and sound)"/>
<node CREATED="1495663695032" ID="ID_1350939270" MODIFIED="1495663701952" TEXT="wait "/>
<node CREATED="1495663667816" ID="ID_1817486723" MODIFIED="1495663683499" TEXT="display confirmation button"/>
<node CREATED="1495663683746" ID="ID_787258951" MODIFIED="1495663707438" TEXT="wait for button to be pressed"/>
<node CREATED="1495663707695" ID="ID_1955842428" MODIFIED="1495663734329" TEXT="send displayMeddageACK(requestID)"/>
<node CREATED="1495663774516" ID="ID_1754137539" MODIFIED="1495663781651" TEXT="hide message"/>
</node>
<node CREATED="1495663786154" ID="ID_585142109" MODIFIED="1495663802578" TEXT="deviceCallRequest">
<node CREATED="1495663802579" ID="ID_1026014000" MODIFIED="1495664286813" TEXT="connect to device with selectDevice(localDeviceID)"/>
<node CREATED="1495664287186" ID="ID_1836470718" MODIFIED="1495664324168" TEXT="DeviceCall(URI, method, payload)"/>
<node CREATED="1495664324452" ID="ID_907861983" MODIFIED="1495664332790" TEXT="wait for reply">
<node CREATED="1495664407239" ID="ID_1557331191" MODIFIED="1495664416913" TEXT="in case of timeout retry 3 times"/>
</node>
<node CREATED="1495664333020" ID="ID_1300812591" MODIFIED="1495664365864" TEXT="sendReply(requestID, response, payload)"/>
</node>
<node CREATED="1495665882312" ID="ID_683949021" MODIFIED="1495665896465" TEXT="inquiryDeviceState">
<node CREATED="1495665909412" ID="ID_1130872712" MODIFIED="1495665940586" TEXT="connect to device with selectDevice(localDeviceID)"/>
<node CREATED="1495665942246" ID="ID_1603439397" MODIFIED="1495665952036" TEXT="DeviceStateDump"/>
<node CREATED="1495665952258" ID="ID_1757952983" MODIFIED="1495666004724" TEXT="deviceState(requestID, payload)"/>
</node>
<node CREATED="1495664440636" ID="ID_919397762" MODIFIED="1495664550049" TEXT="disconnect">
<linktarget COLOR="#b0b0b0" DESTINATION="ID_919397762" ENDARROW="Default" ENDINCLINATION="-49;-32;" ID="Arrow_ID_1555099447" SOURCE="ID_1138033986" STARTARROW="None" STARTINCLINATION="-101;-54;"/>
<node CREATED="1495667700415" ID="ID_1833836237" MODIFIED="1495667716944" TEXT="DeviceStateDump"/>
<node CREATED="1495667856589" ID="ID_1220616549" MODIFIED="1495667872533" TEXT="display msg"/>
<node CREATED="1495664448976" ID="ID_393953888" MODIFIED="1495664469453" TEXT="disconnects from device"/>
<node CREATED="1495664470109" ID="ID_366674529" MODIFIED="1495664475809" TEXT="displays message to user"/>
<node CREATED="1495664476034" ID="ID_1049776805" MODIFIED="1495664486802" TEXT="disconnects from server"/>
<node CREATED="1495664487206" ID="ID_742881098" MODIFIED="1495667887989" TEXT="prompts the user to close the app"/>
</node>
</node>
<node CREATED="1495664519223" ID="ID_1835492465" MODIFIED="1495664527011" TEXT="on close ">
<node CREATED="1495664527012" ID="ID_1138033986" MODIFIED="1495664548031" TEXT="discnnect">
<arrowlink DESTINATION="ID_919397762" ENDARROW="Default" ENDINCLINATION="-49;-32;" ID="Arrow_ID_1555099447" STARTARROW="None" STARTINCLINATION="-101;-54;"/>
</node>
</node>
</node>
</node>
</map>
